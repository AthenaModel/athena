<!-- ar-comp-outputs element -->
<h2>{{header}}</h2>

<form class="form-inline" style="margin-bottom:10px">
  <div class="form-group">
  <label for="siglevel">Significance Level:</label>
  <select id="siglevel" class="form-control" ng-model="comp.siglevel">
    <option value="100">100</option>
    <option value="90">90</option>
    <option value="80">80</option>
    <option value="70">70</option>
    <option value="60">60</option>
    <option value="50">50</option>
    <option value="40">40</option>
    <option value="30">30</option>
    <option value="20.0">20</option>
    <option value="10">10</option>
    <option value="0">0</option>
  </select>
  </div>
</form>

<p ng-hide="comp.size()">
No {{comp.catName() | lowercase}} outputs are significant in this comparison.
</p>

<div ng-show="comp.size()">
  <table class="table auto-width">
    <tr>
      <th ng-show="category === 'all'">
        <a href ng-click="comp.sortby('category')">Category</a>
      </th>
      <th><a href ng-click="comp.sortby('type')">Type</a></th>
      <th><a href ng-click="comp.sortby('name')">Output</a></th>
      <th><a href ng-click="comp.sortby('narrative')">Narrative</a></th>
      <th><a href ng-click="comp.sortby('score',true)">Score</a></th>
    </tr>

    <tr ng-repeat="output in comp.outputs() | orderBy:sortby:reverse">
      <td ng-show="category === 'all'">{{comp.catName(output.category)}}</td>
      <td><span class="label label-primary">{{output.type}}</span></td>
      <td><span class="text-primary">{{output.name}}</span></td>
      <td>
        <div>
        <span class="glyphicon" ng-class="comp.toggleClass(output.name)"
              ng-click="comp.toggle(output.name)"></span>
        {{output.narrative}}
        </div>
        <div class="panel panel-default" ng-if="comp.isExpanded(output.name)"
             style="margin-bottom:0px;">
        <div class="panel-body">
          <dl class="dl-horizontal tight" style="margin-bottom:0px;">
            <dt>Case A:</dt>
            <dd>{{output.fancy1}}</dd>
            <dt>Case B:</dt>
            <dd>{{output.fancy2}}</dd>
            <dt ng-if="output.delta">Delta:</dt>
            <dd ng-if="output.delta" ng-bind-html="output.delta"></dd>
            <dt ng-if="output.context">Context:</dt>
            <dd ng-if="output.context" ng-bind-html="output.context"></dd>
          </dl>
        </div>
        </div>
      </td>
      <td>{{output.score}}</td>
    </tr>
  </table>
</div>
