<ar-page page="page">
<h1>History</h1>

<h2>{{page.caseId}}: {{page.getDesc()}}</h2>
<p>
<form class="form-inline">
  <div class="form-group" ng-repeat="key in page.getKeys()">
    <label>{{key.label}}:</label>
    <select id="keyval" class="form-control" ng-model="page.svals[$index]">
      <option ng-repeat="val in key.values">{{val}}</option>
    </select>
  </div>
  <button class="btn btn-default" ng-click="page.getHist()">Get</button>
</form>

<div ng-hide="page.store">
<p>
<table class="table table-striped table-hover auto-width">
  <tr>
    <th ng-repeat="title in page.header">{{title}}</th>
  </tr>

  <tr ng-repeat="record in page.store">
    <td ng-repeat="(key, value) in record">{{value}}</td>
  </tr>
</table>
</div>

<canvas id="line" class="chart chart-line" data="page.data"
  labels="page.labels" legend="true" series="page.series">
</canvas>

</ar-page>
