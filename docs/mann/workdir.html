<html>
<head>
<title>athena 6.3.3: workdir(n) -- Working Directory Utility, submodule of projectlib(n)</title>
<style type="text/css" media="screen,print">
/* ehtml(5) Standard CSS */

/*---------------------------------------------------------*/
/* General Use                                             */

a {
    /* No underlines */
    text-decoration: none;
}

/* Special formatting for definition lists, to get proper
 * blank lines after descriptions but not after topics. */
dt {
    margin-bottom: 0;
}

dd { 
    margin-bottom: 1em; 
}

dd > p:first-child { 
    margin-top: 0; 
}


/*---------------------------------------------------------*/
/* Specific Macros                                         */

/* bigmark */
div.bigmark {
    display: inline;
    font-family: Verdana;
    font-size: 100%;
    background: black;
    color: white;
    border: 1px solid black;
    border-radius: 5px;
    padding-left: 2px;
    padding-right: 2px;
}

/* def, defitem, defopt */

dt.def {
    font-weight: bold;
}

dt.defitem {
    font-weight: bold;
    font-family: monospace;
}

dt.defopt {
    font-weight: bold;
    font-family: monospace;
}


/* example/ */
pre.example {
    background:     #FFFDD1 ;
    border:         1px solid blue;
    padding-top:    2px;
    padding-bottom: 2px;
    padding-left:   4px;
}


/* hrule */
hr.hrule {
    margin-top: 1em;
    margin-bottom: 1em;
}

/* iref */
a.iref {
    font-family: monospace;
}

/* itemlist */                
ul.itemlist {
    padding-left: 0;
    list-style-type: none;
}

/* listing/ */
pre.listing {
    background:     #FFFDD1 ;
    border:         1px solid blue;
    padding-top:    4px;
    padding-bottom: 4px;
    padding-left:   4px;
}

span.linenum {
    background:     #E3E08F ;
}

/* mark */
div.mark {
    display:       inline;
    font-family:   Verdana;
    font-size:     75%;
    background:    black;
    color:         white;
    border:        1px solid black;
    border-radius: 5px;
    padding-left:  2px;
    padding-right: 2px;
}

/* procedure */

table.procedure {
    border: 1px solid black;
    border-collapse: collapse;
    width: 100%;
}

table.procedure td {
    border: 1px solid black;
}

td.procedure-index {
    padding-right: 5px;
    text-align: right;
    width: 2em;
}


/* topiclist/ */
.topiclist {
    margin-top:    1em;
    margin-bottom: 1em;
}

tr.topic {
    vertical-align: baseline;
}

tr.topicname {
    min-width: 1.5em;
}

/* tt/ */

.tt {
    font-family: monospace;
}



/* olp/ */

ol.olp > li {
    margin-bottom: 1em;
}

/* ulp/ */

ul.ulp > li {
    margin-bottom: 1em;
}

/*---------------------------------------------------------*/
/* table/ plus macros that use it.    Most formatting is
 * depends on the "table" class.                           */

table {
    margin-top:     1em;
    margin-bottom:  1em;
    vertical-align: baseline;
}

th {
    padding-left: 5px;
    text-align:   left;
}

td {
    padding-left:   5px;
    vertical-align: baseline;
}


/* "table" class: standard table formatting. */
.table {
    border:           1px solid black;
    border-spacing:   0;
    color:            black;
    background-color: white;
}

.table tr:first-child {
    font-weight:      bold;
    color:            white;
    background-color: #000099;    
}

.table tr.tr-odd {
    background-color: #EEEEEE;
}

.table tr.tr-even { }

.table-wide {
    width: 100%;
}

        BODY {
            color: black;
            background: white;
            margin-left: 6%;
            margin-right: 6%;
        }

        H1 {
            margin-left: -5%;
        }
        H2 {
            margin-left: -5%;
        }
        HR {
            margin-left: -5%;
        }

        TABLE {
            text-align:    left;
        }
        
        /* mktree styles */
        ul.mktree  li  { list-style: none; }
        ul.mktree, ul.mktree ul, ul.mktree li { 
            margin-left:10px; padding:0px; }
        ul.mktree li .bullet { padding-left: 10px }
        ul.mktree  li.liOpen   .bullet {cursor : pointer; }
        ul.mktree  li.liClosed .bullet {cursor : pointer; }
        ul.mktree  li.liBullet .bullet {cursor : default; }
        ul.mktree  li.liOpen   ul {display: block; }
        ul.mktree  li.liClosed ul {display: none; }
    
</style>



</head>

<body>
<h1 style="background: red;">
&nbsp;athena 6.3.3: Athena Regional Stability Simulation
</h1>
    

<h2><a name="name">NAME</a></h2>
    

<p><b>workdir(n)</b> -- Working Directory Utility, submodule of <a href="../mann/projectlib.html">projectlib(n)</a>

</p>

<ul>

    <li><a href="#name">NAME</a></li>
    

    <li><a href="#synopsis">SYNOPSIS</a></li>
    

    <li><a href="#description">DESCRIPTION</a></li>
    

    <li><a href="#commands">COMMANDS</a></li>
    

    <li><a href="#author">AUTHOR</a></li>
    

    <li><a href="#history">HISTORY</a></li>
    

</ul>
    
    

<h2><a name="synopsis">SYNOPSIS</a></h2>
    

<pre>
package require projectlib 6.3.3
namespace import ::projectlib::*
</pre>

<ul class="itemlist">
<li><a class="iref" href="#workdir_cleanup">workdir cleanup</a></li>
<li><a class="iref" href="#workdir_init">workdir init ?<i>scratchdir</i>?</a></li>
<li><a class="iref" href="#workdir_join">workdir join ?<i>arg arg...</i>?</a></li>
</ul>


<h2><a name="description">DESCRIPTION</a></h2>
    

<p><a href="../mann/workdir.html">workdir(n)</a> is responsible for creating and locating
Athena Workbench working directories.  At start-up, Athena Workbench calls
<a class="iref" href="#workdir_init">workdir init</a>, which creates the working directory either
as

</p>

<pre>    [fileutil::tempdir]/<i>NNNNNNNN</i>/</pre>
<p>or as 

</p>

<pre>    <i>name</i>/<i>NNNNNNNN</i>/</pre>
<p>depending on whether <a class="iref" href="#workdir_init">workdir init</a> is called with an optional
directory name as an argument. <i>NNNNNNNN</i> is a random 8-digit number 
generated at runtime.  This directory is referred to as the working directory.  
Within that, it then creates the following subdirectories:

</p>

<dl>
  <dt class="def"><span class="tt"><i>working</i>/log</span></dt><dd><p>
  For log files.  Individual apps will put their logs in
       subdirectories of this directory, e.g., <a href="../man1/athena_sim.html">athena_sim(1)</a>
       will put its logs in</p>

<p><span class="tt"><i>working</i>/log/sim/</span>

  </p>
</dd>
<dt class="def"><span class="tt"><i>working</i>/rdb</span></dt><dd>
  <a href="../man1/athenawb.html">athenawb(1)</a> will put its run-time database (RDB) in
       this directory.
</dd>
</dl>

<h2><a name="commands">COMMANDS</a></h2>
<p>This module defines the following commands:

</p>

<dl>

<dt class="defitem"><a name="workdir_cleanup">workdir cleanup</a></dt><dd>

Deletes the current working directory and its contents, and "uninitializes"
workdir(n).

</dd>
<dt class="defitem"><a name="workdir_init">workdir init ?<i>scratchdir</i>?</a></dt><dd>

Initializes workdir(n).  In particular, it determines and saves the
full path to the working directory, and creates the standard
subdirectories.  If called with <i>scratchdir</i> it sets the root of
the working directory to that, otherwise it chooses an OS dependent 
temporary directory as the root of the working directory.  It returns the 
full path to the working directory.

</dd>
<dt class="defitem"><a name="workdir_join">workdir join ?<i>arg arg...</i>?</a></dt><dd><p>

Called with no arguments, returns the name of the working directory.
Otherwise, returns the path name resulting from joining the
arguments to the working directory.  For example, the
following command returns the absolute path of a file called
"<code>working.rdb</code>" in the RDB directory.

</p><pre>
set rdbfile [workdir join rdb working.rdb]
</pre>

</dd>
</dl>

<h2><a name="author">AUTHOR</a></h2>
<p>Will Duquette
Dave Hanks

</p>

<h2><a name="history">HISTORY</a></h2>
<p>Original package.

</p>

<hr>
<p><i>athena 6.3.3 Man page generated by manpage(n) on 
Fri Nov 20 09:49:01 PST 2015</i>
</p>

</body>
</html>
    











