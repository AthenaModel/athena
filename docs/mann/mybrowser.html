<html>
<head>
<title>athena 6.3.3: mybrowser(n) -- mydomain(i) Browser Widget, submodule of projectgui(n)</title>
<style type="text/css" media="screen,print">
/* ehtml(5) Standard CSS */

/*---------------------------------------------------------*/
/* General Use                                             */

a {
    /* No underlines */
    text-decoration: none;
}

/* Special formatting for definition lists, to get proper
 * blank lines after descriptions but not after topics. */
dt {
    margin-bottom: 0;
}

dd { 
    margin-bottom: 1em; 
}

dd > p:first-child { 
    margin-top: 0; 
}


/*---------------------------------------------------------*/
/* Specific Macros                                         */

/* bigmark */
div.bigmark {
    display: inline;
    font-family: Verdana;
    font-size: 100%;
    background: black;
    color: white;
    border: 1px solid black;
    border-radius: 5px;
    padding-left: 2px;
    padding-right: 2px;
}

/* def, defitem, defopt */

dt.def {
    font-weight: bold;
}

dt.defitem {
    font-weight: bold;
    font-family: monospace;
}

dt.defopt {
    font-weight: bold;
    font-family: monospace;
}


/* example/ */
pre.example {
    background:     #FFFDD1 ;
    border:         1px solid blue;
    padding-top:    2px;
    padding-bottom: 2px;
    padding-left:   4px;
}


/* hrule */
hr.hrule {
    margin-top: 1em;
    margin-bottom: 1em;
}

/* iref */
a.iref {
    font-family: monospace;
}

/* itemlist */                
ul.itemlist {
    padding-left: 0;
    list-style-type: none;
}

/* listing/ */
pre.listing {
    background:     #FFFDD1 ;
    border:         1px solid blue;
    padding-top:    4px;
    padding-bottom: 4px;
    padding-left:   4px;
}

span.linenum {
    background:     #E3E08F ;
}

/* mark */
div.mark {
    display:       inline;
    font-family:   Verdana;
    font-size:     75%;
    background:    black;
    color:         white;
    border:        1px solid black;
    border-radius: 5px;
    padding-left:  2px;
    padding-right: 2px;
}

/* procedure */

table.procedure {
    border: 1px solid black;
    border-collapse: collapse;
    width: 100%;
}

table.procedure td {
    border: 1px solid black;
}

td.procedure-index {
    padding-right: 5px;
    text-align: right;
    width: 2em;
}


/* topiclist/ */
.topiclist {
    margin-top:    1em;
    margin-bottom: 1em;
}

tr.topic {
    vertical-align: baseline;
}

tr.topicname {
    min-width: 1.5em;
}

/* tt/ */

.tt {
    font-family: monospace;
}



/* olp/ */

ol.olp > li {
    margin-bottom: 1em;
}

/* ulp/ */

ul.ulp > li {
    margin-bottom: 1em;
}

/*---------------------------------------------------------*/
/* table/ plus macros that use it.    Most formatting is
 * depends on the "table" class.                           */

table {
    margin-top:     1em;
    margin-bottom:  1em;
    vertical-align: baseline;
}

th {
    padding-left: 5px;
    text-align:   left;
}

td {
    padding-left:   5px;
    vertical-align: baseline;
}


/* "table" class: standard table formatting. */
.table {
    border:           1px solid black;
    border-spacing:   0;
    color:            black;
    background-color: white;
}

.table tr:first-child {
    font-weight:      bold;
    color:            white;
    background-color: #000099;    
}

.table tr.tr-odd {
    background-color: #EEEEEE;
}

.table tr.tr-even { }

.table-wide {
    width: 100%;
}

        BODY {
            color: black;
            background: white;
            margin-left: 6%;
            margin-right: 6%;
        }

        H1 {
            margin-left: -5%;
        }
        H2 {
            margin-left: -5%;
        }
        HR {
            margin-left: -5%;
        }

        TABLE {
            text-align:    left;
        }
        
        /* mktree styles */
        ul.mktree  li  { list-style: none; }
        ul.mktree, ul.mktree ul, ul.mktree li { 
            margin-left:10px; padding:0px; }
        ul.mktree li .bullet { padding-left: 10px }
        ul.mktree  li.liOpen   .bullet {cursor : pointer; }
        ul.mktree  li.liClosed .bullet {cursor : pointer; }
        ul.mktree  li.liBullet .bullet {cursor : default; }
        ul.mktree  li.liOpen   ul {display: block; }
        ul.mktree  li.liClosed ul {display: none; }
    
</style>



</head>

<body>
<h1 style="background: red;">
&nbsp;athena 6.3.3: Athena Regional Stability Simulation
</h1>
    

<h2><a name="name">NAME</a></h2>
    

<p><b>mybrowser(n)</b> -- mydomain(i) Browser Widget, submodule of <a href="../mann/projectgui.html">projectgui(n)</a>

</p>

<ul>

    <li><a href="#name">NAME</a></li>
    

    <li><a href="#synopsis">SYNOPSIS</a></li>
    

    <li><a href="#description">DESCRIPTION</a></li>
    <ul>

    <li><a href="#content_types">Content Types</a></li>

    <li><a href="#embedded_objects">Embedded Objects</a></li>

    <li><a href="#forms">Forms</a></li>

    <li><a href="#chromeless_html_panes">Chromeless HTML Panes</a></li>

</ul>
    

    <li><a href="#commands">COMMANDS</a></li>
    

    <li><a href="#instance_command">INSTANCE COMMAND</a></li>
    

    <li><a href="#environment">ENVIRONMENT</a></li>
    

    <li><a href="#author">AUTHOR</a></li>
    

    <li><a href="#history">HISTORY</a></li>
    

</ul>
    
    

<h2><a name="synopsis">SYNOPSIS</a></h2>
    

<pre>
package require projectgui 6.3.3
namespace import ::projectgui::*
</pre>

<ul class="itemlist">
<li><a class="iref" href="#mybrowser">mybrowser <i>pathName</i> ?<i>options...</i>?</a></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<a class="iref" href="#mybrowser-bookmarkcmd">-bookmarkcmd <i>cmd</i></a></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<a class="iref" href="#mybrowser-defaultserver">-defaultserver <i>name</i></a></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<a class="iref" href="#mybrowser-help">-help <i>url</i></a></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<a class="iref" href="#mybrowser-home">-home <i>url</i></a></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<a class="iref" href="#mybrowser-hyperlinkcmd">-hyperlinkcmd <i>command</i></a></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<a class="iref" href="#mybrowser-loadedcmd">-loadedcmd <i>command</i></a></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<a class="iref" href="#mybrowser-messagecmd">-messagecmd <i>command</i></a></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<a class="iref" href="#mybrowser-reloadcmd">-reloadcmd <i>command</i></a></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<a class="iref" href="#mybrowser-reloadon">-reloadon <i>dict</i></a></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<a class="iref" href="#mybrowser-searchcmd">-searchcmd <i>command</i></a></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<a class="iref" href="#mybrowser-sidebar">-sidebar <i>flag</i></a></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<a class="iref" href="#mybrowser-styles">-styles <i>css</i></a></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<a class="iref" href="#mybrowser-toolbar">-toolbar <i>flag</i></a></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<a class="iref" href="#mybrowser-unknowncmd">-unknowncmd <i>command</i></a></li>
<li><a class="iref" href="#back"><i>pathName</i> back</a></li>
<li><a class="iref" href="#cget"><i>pathName</i> cget <i>option</i></a></li>
<li><a class="iref" href="#configure"><i>pathName</i> configure <i>option value...</i></a></li>
<li><a class="iref" href="#forward"><i>pathName</i> forward</a></li>
<li><a class="iref" href="#home"><i>pathName</i> home</a></li>
<li><a class="iref" href="#reload"><i>pathName</i> reload ?-force?</a></li>
<li><a class="iref" href="#show"><i>pathName</i> show <i>url</i></a></li>
<li><a class="iref" href="#sidebar"><i>pathName</i> sidebar</a></li>
<li><a class="iref" href="#title"><i>pathName</i> title</a></li>
<li><a class="iref" href="#url"><i>pathName</i> url</a></li>
</ul>


<h2><a name="description">DESCRIPTION</a></h2>
<p>The mybrowser(n) widget is a web-browser-like widget for browsing
the contents of <a href="../mani/mydomain.html">mydomain(i)</a> servers.

</p>

<h2><a name="content_types">Content Types</a></h2>
<p>The browser knows how to display the following content types directly:

</p>

<dl>
<dt class="def">text/html</dt><dd>
Normal HTML text.

</dd>
<dt class="def">text/plain</dt><dd>
Plain text.

</dd>
<dt class="def">tk/image</dt><dd>
Tk images.
</dd>
</dl>

<h2><a name="embedded_objects">Embedded Objects</a></h2>
<p>In addition, the <code>&lt;object&gt;</code> tag can be used to embed
GUI objects identified by a URI with content type <b>tk/widget</b>.
The tag's <code>data</code> attribute gives the URL, and the
<code>width</code> and <code>height</code> attributes control the
size.  For example:

</p>

<pre>
    &lt;object width="100%" height="2in"
               data="my://app/plot/time/mood.shia"&gt;
    &lt;/object&gt;
</pre>
<p>Note that it's important to include the closing
<b>&lt;/object&gt;</b> tag.</p>

<p>The actual <b>tk/widget</b> content is a Tcl command that will create
the widget in question.  The token <code>%W</code> will be replaced
with a Tk window path name, and then the command will be evaluated in
the gobal scope.

</p>

<h2><a name="forms">Forms</a></h2>
<p>mybrowser(n) supports HTML forms, within particular constraints.</p>

<p>The <code>&lt;form&gt;</code> tag can take the following attributes:

</p>

<dl>
<dt class="def">action=<i>url</i></dt><dd>

The action is the URL that is sent on submit with the form parameters
attached.  The URL can be relative to the current page; and if it is
empty, the same page is loaded with the new
form parameters.  Any query parameters in the action <i>url</i> are ignored.

</dd>
<dt class="def">autosubmit=<i>flag</i></dt><dd><p>

If the <i>flag</i> is 1, any 
change to the form's fields will be submitted immediately on user input.
Otherwise, the user must press the "Submit" button to submit the form.</p>

<p>Note that changes to <b>text</b> inputs do not trigger auto-submit.

</p>
</dd>
</dl>
<p>Forms can contain the following kinds of <code>&lt;input&gt;</code> tag, 
each of which must have a <b>type</b> and <b>name</b> attribute.  The <b>type</b> 
attribute should be one of the following:

</p>

<dl>

<dt class="def">enum</dt><dd><p>

Adds an <a href="../mann/enumfield.html">enumfield(n)</a> widget to the form.  There are a number of
important attributes.</p>

<p>The field's drop down list is populated by querying the URL given as the
<b>src</b> attribute (required).  The content type is assumed to be 
<code>tcl/enumlist</code>, in which case the drop down list contains
exactly the enumerated values.</p>

<p>If the <b>content</b> attribute is set to <code>tcl/enumdict</code>, then
the long form of the enumeration is retrieved and used for the drop-down values
in the usual way.</p>

<p>The field's content is
initialized with the value of the <b>value</b> attribute, if present.

</p>
</dd>
<dt class="def">text</dt><dd>

Adds a <a href="../mann/textfield.html">textfield(n)</a> widget to the form.  The field's content is
initialized with the value of the <b>value</b> attribute, if present.

</dd>
<dt class="def">submit</dt><dd>

Adds a "Submit" button to the form.  If the <b>value</b> attribute is present, 
its value is used as the button text.

</dd>
</dl>

<h2><a name="chromeless_html_panes">Chromeless HTML Panes</a></h2>
<p>A mybrowser(n) widget can also be used to display mydomain(n) pages purely
the control of the application, i.e., as a way to implement browsers for
specific pieces of data.  The involves turning off the "chrome" (the toolbar
the sidebar), possibly setting the -home URL to a desired page, and 
setting hyperlinks to be displayed in a full browser.  For example,

</p>

<pre>
    mybrowser .datapane              \
        -toolbar      no             \
        -sidebar      no             \
        -home         my://app/data  \
        -hyperlinkcmd {::app show}   \
        -messagecmd   {::app puts}   \
        -reloadon {
            ::sim &lt;Tick&gt;
        }
</pre>
<p>This code creates a data pane that will always display the URL 
"<code>my://app/data</code>".
If the user clicks on any link in the displayed data, the URL will be passed
to the application's <code>::app show</code> command for handling.  The
widget's contents will automatically reload on the 
"<code>::sim &lt;Tick&gt;</code>" <a href="../../../mars/docs/mann/notifier.html">notifier(n)</a> event.</p>

<p>If the application needs to change the displayed page, it can use the
<a class="iref" href="#show">show</a> method in the usual way.

</p>

<h2><a name="commands">COMMANDS</a></h2>
<p>This module defines the following commands.

</p>

<dl>

<dt class="defitem"><a name="mybrowser">mybrowser <i>pathName</i> ?<i>options...</i>?</a></dt><dd><p>

Creates a new <a class="iref" href="#mybrowser">mybrowser</a> widget named <i>pathName</i>, and
returns <i>pathName</i>.  The widget supports the following
options, in addition to those provided by the underlying frame widget:

</p><dl>

<dt class="defopt"><a name="mybrowser-bookmarkcmd">-bookmarkcmd <i>cmd</i></a></dt><dd><p>

Specifies a <i>command</i> to be called whenever the user has
pushed the "bookmark this page" button on the browser toolbar.</p>

<p>This option is read-only after widget creation; and note that the
button is displayed only if this option has a non-empty value.

</p>
</dd>
<dt class="defopt"><a name="mybrowser-defaultserver">-defaultserver <i>name</i></a></dt><dd>

The browser will access the named server when given a URL with a
missing server name.  Defaults to "app".

</dd>
<dt class="defopt"><a name="mybrowser-help">-help <i>url</i></a></dt><dd>

Specifies the URL of the browser's "help" page.  If this option is
given then the browser will display a "Help" button in the toolbar
and will display this page when the button is pressed.

</dd>
<dt class="defopt"><a name="mybrowser-home">-home <i>url</i></a></dt><dd>

Specifies the URL of the browser's "home" page.  It will display
this page initially, and will return to it when the browser's
"Home" button is pressed.

</dd>
<dt class="defopt"><a name="mybrowser-hyperlinkcmd">-hyperlinkcmd <i>command</i></a></dt><dd>

This option determines what happens when a user clicks on a hyperlink.  If
the option is unset (the default), then mybrowser(n) simply passes 
resolved hyperlinks directly to <a class="iref" href="#show">show</a>.  Otherwise, they are passed
to <i>command</i>, which may do what it likes.

</dd>
<dt class="defopt"><a name="mybrowser-loadedcmd">-loadedcmd <i>command</i></a></dt><dd>

Specifies a <i>command</i> to be called whenever the browser has
loaded a page.  It will be called with one additional argument, the
URL of the loaded page.

</dd>
<dt class="defopt"><a name="mybrowser-messagecmd">-messagecmd <i>command</i></a></dt><dd>

Specifies a <i>command</i> to be called
whenever the browser has a message to be displayed on the application
window's message line.  This is usually used for displaying the linked
URL when the mouse moves over a link.

</dd>
<dt class="defopt"><a name="mybrowser-reloadcmd">-reloadcmd <i>command</i></a></dt><dd>

Specifies a <i>command</i> to be called when the browser's
"reload" button is pressed.  Note that the browser reloads its own
content; this callback is defined so that the <b>sidebar</b>
components, if any, can also reload their content.

</dd>
<dt class="defopt"><a name="mybrowser-reloadon">-reloadon <i>dict</i></a></dt><dd>

Specifies a dictionary of notifier subject/event pairs.  The widget
will bind to the given events, and reload its content when any of
them is sent.

</dd>
<dt class="defopt"><a name="mybrowser-searchcmd">-searchcmd <i>command</i></a></dt><dd><p>

Specifies a <i>command</i> to be called whenever the user has
entered a search string into the browser's search box.
It will be called with one additional argument, the search string;
the command must return a URL that can be queried to get the search
results for the string.</p>

<p>This option is read-only after widget creation; and note that the
search box is displayed only if this option has a non-empty value.

</p>
</dd>
<dt class="defopt"><a name="mybrowser-sidebar">-sidebar <i>flag</i></a></dt><dd><p>

If yes (the default), the browser will have a <a class="iref" href="#sidebar">sidebar</a> frame,
into which the client can place any desired content.   If no, the sidebar will
be omitted.</p>

<p>This option is read-only after widget creation.

</p>
</dd>
<dt class="defopt"><a name="mybrowser-styles">-styles <i>css</i></a></dt><dd>

Gives a set of CSS styles to the underlying 
<a href="../../../mars/docs/mann/htmlviewer.html">htmlviewer(n)</a>.

</dd>
<dt class="defopt"><a name="mybrowser-toolbar">-toolbar <i>flag</i></a></dt><dd><p>

If yes (the default), the browser will have a toolbar with the usual
controls (back button, address bar, etc.).  If no, the toolbar will
be omitted.</p>

<p>This option is read-only after widget creation.

</p>
</dd>
<dt class="defopt"><a name="mybrowser-unknowncmd">-unknowncmd <i>command</i></a></dt><dd>

Specifies a <i>command</i> to be called if a hyperlink uses a URI
scheme other than "my".  The command is passed two additional arguments,
the scheme name (e.g., "gui") and the URI, and can do
what it likes with them.  The command should return 1 if it handles the
URI, and 0 otherwise, in which case mybrowser(n)'s usual error
handling will apply.

</dd>
</dl>

</dd>
</dl>

<h2><a name="instance_command">INSTANCE COMMAND</a></h2>
<p>mybrowser(n) widgets have the following subcommands:

</p>

<dl>

<dt class="defitem"><a name="back"><i>pathName</i> back</a></dt><dd>

This command is equivalent to pressing the browser's "back" button.

</dd>
<dt class="defitem"><a name="cget"><i>pathName</i> cget <i>option</i></a></dt><dd>

Returns the value of the specified <i>option</i>.

</dd>
<dt class="defitem"><a name="configure"><i>pathName</i> configure <i>option value...</i></a></dt><dd>

Sets the value of one or more of the object's
options.

</dd>
<dt class="defitem"><a name="forward"><i>pathName</i> forward</a></dt><dd>

This command is equivalent to pressing the browser's "forward" button.

</dd>
<dt class="defitem"><a name="home"><i>pathName</i> home</a></dt><dd>

Shows the browser's <code>-home</code> page.

</dd>
<dt class="defitem"><a name="reload"><i>pathName</i> reload ?-force?</a></dt><dd><p>

Causes the widget to reload its currently displayed URL, and
call its <code>-reloadcmd</code>.</p>

<p>By default, the widget's contents is reloaded in a lazy fashion, using
<a href="../../../mars/docs/mann/lazyupdater.html">lazyupdater(n)</a>.  If the <b>-force</b> option is given, the
content is reloaded immediately.

</p>
</dd>
<dt class="defitem"><a name="show"><i>pathName</i> show <i>url</i></a></dt><dd>

Asks the browser to display the given <i>url</i>.

</dd>
<dt class="defitem"><a name="sidebar"><i>pathName</i> sidebar</a></dt><dd>

If <b>-sidebar</b> is yes, returns a <b>ttk::frame</b> widget into which the 
application can add its own components.  The sidebar appears on the left hand 
side of the browser, separated from the main browser pane by a user-adjustable 
sash.

</dd>
<dt class="defitem"><a name="title"><i>pathName</i> title</a></dt><dd>

Returns the title of the currently displayed page, or "" if none.

</dd>
<dt class="defitem"><a name="url"><i>pathName</i> url</a></dt><dd>

Returns the URL of the currently displayed page, or "" if none.

</dd>
</dl>

<h2><a name="environment">ENVIRONMENT</a></h2>
<p>projectgui(n) requires Tcl 8.5 or later.</p>

<p>To use projectgui(n) in a Tcl script, the environment variable
<code>TCLLIBPATH</code> must include the parent of the package
directory.

</p>

<h2><a name="author">AUTHOR</a></h2>
<p>Will Duquette

</p>

<h2><a name="history">HISTORY</a></h2>
<p>Original package.

</p>

<hr>
<p><i>athena 6.3.3 Man page generated by manpage(n) on 
Fri Nov 20 09:48:58 PST 2015</i>
</p>

</body>
</html>
    






